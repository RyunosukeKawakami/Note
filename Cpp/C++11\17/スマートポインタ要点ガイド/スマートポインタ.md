# スマートポインタの種類と使い分け

## 概要、スマートポインタとは

C++にはガベージコレクションが存在しない、よって利用可能なメモリのアドレスを保持できるポインタという機能は、`deleteのし忘れ`や`newしていないポインタのdelete`によって未定義動作やメモリリークが発生してしまう。

そこでリスクを減らすために<font color="Aquamarine">newとdeleteの記述をなるべくさけて、自動的にメモリの解放を行うポインタをスマートポインタという。</font>

スマートポインタの種類

- auto_ptr　←オワコン
- unique_ptr
- shared_ptr
- weak_ptr

***

## スマートポインタの所有権

スマートポインタには**そのメモリにアクセスする権利と開放する義務**を意味する <font color = "Orange"> **所有権**</font>という概念がある。
つまり所有権を保持しているスマートポインタに対して <font color = "Aquamarine"> 指しているメモリにはスマートポインタを介して参照を行い、勝手に解放をしてはならない。 </font>

スマートポインタが所有権を放棄すれば、そのメモリはどこからも指されていないことが保証される。その時スマートポインタは <font color = "Aquamarine"> デストラクタを用いてメモリ解放を自動で行う </font>そのためメモリの解放忘れを避けることができる。

**auto_ptrはオワコンなので無視する。**